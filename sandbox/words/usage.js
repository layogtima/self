// Enhanced usage examples for the Proto-Language app
// This creates a richer set of examples for common words

window.enhancedUsageExamples = {
    // Create a more comprehensive database of example sentences
    // Format: primary_language_index_secondary_language

    // I/me examples
    english_0_hindi: [
        {
            primary: "I need to learn Hindi for my trip to India.",
            secondary: "मुझे भारत की यात्रा के लिए हिंदी सीखने की जरूरत है।"
        },
        {
            primary: "Please give me some water, I'm thirsty.",
            secondary: "कृपया मुझे थोड़ा पानी दें, मुझे प्यास लगी है।"
        }
    ],

    // Water examples
    english_4_hindi: [
        {
            primary: "Is the water safe to drink here?",
            secondary: "क्या यहां का पानी पीने के लिए सुरक्षित है?"
        },
        {
            primary: "I like to swim in cold water.",
            secondary: "मुझे ठंडे पानी में तैरना पसंद है।"
        }
    ],

    // Mother examples
    english_17_hindi: [
        {
            primary: "My mother taught me how to cook.",
            secondary: "मेरी माँ ने मुझे खाना बनाना सिखाया।"
        },
        {
            primary: "Mother's love is unconditional.",
            secondary: "माँ का प्यार बिना शर्त होता है।"
        }
    ],

    // Sun examples
    english_31_tamil: [
        {
            primary: "The sun rises in the east.",
            secondary: "சூரியன் கிழக்கில் உதிக்கிறது."
        },
        {
            primary: "It's too hot in the sun today.",
            secondary: "இன்று சூரியனில் மிகவும் வெப்பமாக உள்ளது."
        }
    ],

    // Heart examples
    english_30_bengali: [
        {
            primary: "My heart beats faster when I exercise.",
            secondary: "আমি ব্যায়াম করলে আমার হৃদয় দ্রুত ধড়ফড় করে।"
        },
        {
            primary: "She has a kind heart.",
            secondary: "তার একটি দয়ালু হৃদয় আছে।"
        }
    ],

    // Sleep examples
    english_37_telugu: [
        {
            primary: "I need to sleep for 8 hours every night.",
            secondary: "నేను ప్రతి రాత్రి 8 గంటలు నిద్ర పోవాలి."
        },
        {
            primary: "The baby is sleeping peacefully.",
            secondary: "శిశువు ప్రశాంతంగా నిద్రిస్తోంది."
        }
    ],

    // Eye examples
    english_44_malayalam: [
        {
            primary: "Her eyes are beautiful.",
            secondary: "അവളുടെ കണ്ണുകൾ സുന്ദരമാണ്."
        },
        {
            primary: "I got something in my eye.",
            secondary: "എന്റെ കണ്ണിൽ എന്തോ കിട്ടി."
        }
    ],

    // House examples
    english_47_kannada: [
        {
            primary: "This is my house.",
            secondary: "ಇದು ನನ್ನ ಮನೆ."
        },
        {
            primary: "We're building a new house next year.",
            secondary: "ನಾವು ಮುಂದಿನ ವರ್ಷ ಹೊಸ ಮನೆ ಕಟ್ಟುತ್ತೇವೆ."
        }
    ],

    // Mini phrases for learning
    english_phrases: {
        greetings: [
            "Hello! How are you?",
            "Good morning!",
            "Nice to meet you.",
            "Welcome to my home."
        ],
        helpful: [
            "Can you help me?",
            "Where is the bathroom?",
            "How much does this cost?",
            "I'm looking for the train station."
        ],
        food: [
            "I'm hungry.",
            "This food is delicious!",
            "Can I have some water?",
            "Where is a good restaurant?"
        ],
        emergency: [
            "I need help.",
            "Call a doctor, please.",
            "Where is the hospital?",
            "I don't feel well."
        ]
    },

    hindi_phrases: {
        greetings: [
            "नमस्ते! आप कैसे हैं?",
            "सुप्रभात!",
            "आपसे मिलकर अच्छा लगा।",
            "मेरे घर में आपका स्वागत है।"
        ],
        helpful: [
            "क्या आप मेरी मदद कर सकते हैं?",
            "बाथरूम कहाँ है?",
            "इसकी कीमत कितनी है?",
            "मैं रेलवे स्टेशन ढूंढ रहा हूँ।"
        ],
        food: [
            "मुझे भूख लगी है।",
            "यह खाना बहुत स्वादिष्ट है!",
            "क्या मुझे थोड़ा पानी मिल सकता है?",
            "अच्छा रेस्टोरेंट कहाँ है?"
        ],
        emergency: [
            "मुझे मदद चाहिए।",
            "कृपया डॉक्टर को बुलाइए।",
            "अस्पताल कहाँ है?",
            "मुझे अच्छा नहीं लग रहा है।"
        ]
    },

    tamil_phrases: {
        greetings: [
            "வணக்கம்! நீங்கள் எப்படி இருக்கிறீர்கள்?",
            "காலை வணக்கம்!",
            "உங்களை சந்தித்ததில் மகிழ்ச்சி.",
            "என் வீட்டிற்கு வரவேற்கிறேன்."
        ],
        helpful: [
            "நீங்கள் எனக்கு உதவ முடியுமா?",
            "கழிவறை எங்கே?",
            "இதன் விலை என்ன?",
            "நான் ரயில் நிலையத்தைத் தேடுகிறேன்."
        ],
        food: [
            "எனக்கு பசிக்கிறது.",
            "இந்த உணவு மிகவும் சுவையாக இருக்கிறது!",
            "எனக்கு கொஞ்சம் தண்ணீர் கொடுக்க முடியுமா?",
            "நல்ல உணவகம் எங்கே?"
        ],
        emergency: [
            "எனக்கு உதவி தேவை.",
            "மருத்துவரை அழைக்கவும், தயவுசெய்து.",
            "மருத்துவமனை எங்கே?",
            "எனக்கு உடல்நிலை சரியில்லை."
        ]
    },

    // Add more phrases for other languages...

    // Function to get contextual learning phrases
    getPhrases: function (language, category) {
        const key = `${language}_phrases`;
        if (this[key] && this[key][category]) {
            return this[key][category];
        }
        return this.english_phrases[category] || [];
    },

    // Get examples with fallback mechanisms
    getExamples: function (primary, secondary, index) {
        // Try direct match first
        const key = `${primary}_${index}_${secondary}`;
        if (this[key]) return this[key];

        // Try reverse match (might work for some examples)
        const reverseKey = `${secondary}_${index}_${primary}`;
        if (this[reverseKey]) {
            // Reverse the examples
            return this[reverseKey].map(ex => ({
                primary: ex.secondary,
                secondary: ex.primary
            }));
        }

        // Generate basic examples if nothing specific exists
        const primaryWord = window.languageData[primary][index].text;
        const secondaryWord = window.languageData[secondary][index].text;

        // Generate context-aware examples based on word type
        return [
            {
                primary: this.generateExample(primaryWord, primary, index),
                secondary: this.generateExample(secondaryWord, secondary, index)
            },
            {
                primary: this.generateAlternateExample(primaryWord, primary, index),
                secondary: this.generateAlternateExample(secondaryWord, secondary, index)
            }
        ];
    },

    // Generate context-aware examples
    generateExample: function (word, language, index) {
        // Simple templates based on word type (position in the list)
        const templates = {
            // Pronouns (0-1)
            0: [`${word} would like to learn more languages.`, `${word} am from India.`],
            1: [`Are ${word} interested in linguistics?`, `${word} should try this app.`],

            // Yes/No (2-3)
            2: [`${word}, I don't want to go there.`, `${word}, that's not correct.`],
            3: [`${word}, I understand that.`, `${word}, that works for me.`],

            // Basic needs (4-8)
            4: [`The ${word} is very clean.`, `Please give me some ${word}.`],
            5: [`This ${word} is delicious.`, `I need to buy some ${word}.`],
            6: [`That's a ${word} idea!`, `The weather is ${word} today.`],
            7: [`That's a ${word} movie.`, `I had a ${word} experience.`],

            // Default for other words
            default: [`The ${word} is important.`, `I like the ${word}.`, `Where is the ${word}?`]
        };

        const options = templates[index] || templates.default;
        return options[Math.floor(Math.random() * options.length)];
    },

    generateAlternateExample: function (word, language, index) {
        // More contextual examples
        const contexts = {
            // Pronouns (0-1)
            0: [`Yesterday, ${word} went to the market.`, `${word} think this is interesting.`],
            1: [`Can ${word} speak multiple languages?`, `Did ${word} know about this?`],

            // Body parts (44-46)
            44: [`My ${word} hurts.`, `She has beautiful ${word}s.`],
            45: [`I hurt my ${word} yesterday.`, `The ${word} is an important part of the body.`],

            // Nature (31-34)
            31: [`The ${word} rises in the east.`, `It's warm in the ${word}.`],
            32: [`The ${word} is full tonight.`, `I love looking at the ${word}.`],

            // Default
            default: [`We need to understand the ${word}.`, `The ${word} makes me happy.`, `Can you see the ${word}?`]
        };

        const options = contexts[index] || contexts.default;
        return options[Math.floor(Math.random() * options.length)];
    }
};

// Etymology data to showcase word relationships
window.etymologyData = {
    // Some interesting etymology connections between languages
    water: {
        english: { word: "water", notes: "Germanic origin" },
        hindi: { word: "पानी (paani)", notes: "From Sanskrit 'pānīya'" },
        sanskrit: { word: "पानीय (pānīya)", notes: "Means 'drinkable'" },
        persian: { word: "آب (āb)", notes: "Indo-Iranian root" },
        proto_indo_european: { word: "*wódr̥", notes: "Ancestral root" }
    },

    mother: {
        english: { word: "mother", notes: "Germanic 'mōdēr'" },
        hindi: { word: "माँ (maa)", notes: "Sanskrit 'mātṛ'" },
        tamil: { word: "அம்மா (amma)", notes: "Dravidian origin" },
        sanskrit: { word: "मातृ (mātṛ)", notes: "From PIE *méh₂tēr" },
        proto_indo_european: { word: "*méh₂tēr", notes: "Ancestral root" }
    },

    // Function to get etymology for a word
    getEtymology: function (concept) {
        return this[concept] || null;
    }
};

// Pronunciation guide with audio playback simulation
window.pronunciationGuide = {
    generateIPA: function (language, text) {
        // Simplified IPA generation - in a real app, this would be more sophisticated
        const ipaMap = {
            hindi: {
                "मैं": "mæ̃",
                "पानी": "paːniː",
                "माँ": "maː"
            },
            tamil: {
                "நான்": "naːn",
                "தண்ணீர்": "t̪aɳɳiːr",
                "அம்மா": "ammaː"
            }
        };

        if (ipaMap[language] && ipaMap[language][text]) {
            return ipaMap[language][text];
        }

        // Fallback
        return "IPA not available";
    },

    // Simulate audio playback
    playAudio: function (language, text) {
        console.log(`Playing pronunciation for: ${text} in ${language}`);
        // In a real app, this would trigger audio playback
        return true;
    }
};

// Quiz content generator
window.quizGenerator = {
    generateQuestions: function (language, difficulty = "beginner") {
        const questions = [];
        const languageData = window.languageData[language];

        // Generate translation questions
        for (let i = 0; i < 5; i++) {
            const randomIndex = Math.floor(Math.random() * languageData.length);
            const word = languageData[randomIndex];

            questions.push({
                type: "translation",
                question: `What does "${word.text}" mean in English?`,
                correctAnswer: window.languageData.english[randomIndex].text,
                options: this.generateOptions(window.languageData.english, randomIndex)
            });
        }

        // Generate listening comprehension questions
        if (difficulty !== "beginner") {
            for (let i = 0; i < 3; i++) {
                const randomIndex = Math.floor(Math.random() * languageData.length);
                const word = languageData[randomIndex];

                questions.push({
                    type: "listening",
                    audioPrompt: `${language}_${randomIndex}`, // In a real app, this would be an audio file reference
                    question: "Listen and select the correct word",
                    correctAnswer: word.text,
                    options: this.generateOptions(languageData, randomIndex, true)
                });
            }
        }

        return questions;
    },

    generateOptions: function (wordList, correctIndex, showOriginal = false) {
        const options = [wordList[correctIndex].text];

        // Add 3 wrong options
        while (options.length < 4) {
            const randomIndex = Math.floor(Math.random() * wordList.length);
            if (randomIndex !== correctIndex && !options.includes(wordList[randomIndex].text)) {
                options.push(wordList[randomIndex].text);
            }
        }

        // Shuffle options
        return options.sort(() => Math.random() - 0.5);
    }
};

// Initialize enhanced features
function initEnhancedFeatures() {
    console.log("Enhanced Proto-Language features initialized!");

    // In a real app, this would set up the enhanced features
    window.usageExamples = window.enhancedUsageExamples;
}