<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fantasy Inventory System</title>
    <link href="https://cdn.tailwindcss.com" rel="stylesheet" />
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              parchment: {
                light: "#f5f0e6",
                DEFAULT: "#ebe5d9",
                dark: "#d5cfc3",
              },
              rune: {
                light: "#3a3a3a",
                DEFAULT: "#2a2a2a",
                dark: "#1a1a1a",
              },
            },
            fontFamily: {
              norse: ["Cinzel", "serif"],
            },
          },
        },
      };
    </script>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&display=swap");

      body {
        background-color: #0a0a0a;
        font-family: "Cinzel", serif;
        overflow: hidden;
        perspective: 2000px;
      }

      .book-shadow {
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.7);
      }

      .book-spine {
        background: linear-gradient(
          to right,
          rgba(101, 84, 67, 0.9) 0%,
          rgba(46, 38, 30, 0.9) 20%,
          rgba(30, 25, 20, 0.9) 50%,
          rgba(46, 38, 30, 0.9) 80%,
          rgba(101, 84, 67, 0.9) 100%
        );
      }

      .resource-icon {
        width: 50px;
        height: 50px;
        background-color: #e8e1d4;
        position: relative;
        display: flex;
        justify-content: center;
        align-items: center;
        border: 1px solid #a89d87;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .resource-icon:hover {
        transform: scale(1.1);
        box-shadow: 0 0 15px rgba(255, 215, 0, 0.4);
      }

      .rune-pattern {
        background-image: radial-gradient(
            circle at 10% 10%,
            transparent 0%,
            transparent 80%,
            #d5cfc3 100%
          ),
          linear-gradient(
            45deg,
            transparent 48%,
            #d5cfc3 49%,
            #d5cfc3 51%,
            transparent 52%
          ),
          linear-gradient(
            -45deg,
            transparent 48%,
            #d5cfc3 49%,
            #d5cfc3 51%,
            transparent 52%
          );
        background-size: 10px 10px, 30px 30px, 30px 30px;
      }

      .page {
        transition: transform 1s ease, opacity 0.6s ease;
        transform-origin: left center;
        backface-visibility: hidden;
      }

      .page-turn {
        animation: pageTurn 1.2s ease-in-out forwards;
      }

      .page-return {
        animation: pageReturn 1.2s ease-in-out forwards;
      }

      @keyframes pageTurn {
        0% {
          transform: rotateY(0deg);
          z-index: 1;
        }
        100% {
          transform: rotateY(-180deg);
          z-index: 0;
        }
      }

      @keyframes pageReturn {
        0% {
          transform: rotateY(-180deg);
          z-index: 0;
        }
        100% {
          transform: rotateY(0deg);
          z-index: 1;
        }
      }

      .page-tabs {
        position: absolute;
        right: -30px;
        top: 50%;
        transform: translateY(-50%);
        display: flex;
        flex-direction: column;
        gap: 10px;
      }

      .page-tab {
        width: 30px;
        height: 60px;
        background-color: #ebe5d9;
        border-radius: 0 5px 5px 0;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: all 0.3s ease;
        writing-mode: vertical-rl;
        text-orientation: mixed;
        font-size: 12px;
        padding: 5px 2px;
        box-shadow: 2px 4px 8px rgba(0, 0, 0, 0.25);
      }

      .page-tab:hover {
        background-color: #d5cfc3;
        width: 35px;
      }

      .dust-particle {
        position: absolute;
        width: 2px;
        height: 2px;
        background-color: rgba(255, 248, 220, 0.7);
        border-radius: 50%;
        pointer-events: none;
      }

      .quantity-input {
        width: 50px;
        background-color: transparent;
        border: none;
        font-family: "Cinzel", serif;
        font-weight: bold;
        color: #2a2a2a;
        text-align: center;
        font-size: 1.25rem;
      }

      .quantity-input:focus {
        outline: 1px dashed #a89d87;
        background-color: rgba(255, 248, 220, 0.2);
      }

      .tooltip {
        position: absolute;
        background-color: #2a2a2a;
        color: #e8e1d4;
        padding: 8px 12px;
        border-radius: 4px;
        font-size: 14px;
        max-width: 200px;
        z-index: 10;
        opacity: 0;
        transition: opacity 0.3s;
        pointer-events: none;
        box-shadow: 0 3px 8px rgba(0, 0, 0, 0.5);
        border: 1px solid #a89d87;
      }

      .resource-modal {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.8);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 50;
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.3s ease;
      }

      .resource-modal.active {
        opacity: 1;
        pointer-events: all;
      }

      .modal-content {
        background-color: #ebe5d9;
        border-radius: 8px;
        width: 90%;
        max-width: 500px;
        padding: 20px;
        position: relative;
        transform: translateY(20px);
        transition: transform 0.4s ease;
        border: 2px solid #a89d87;
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5);
      }

      .resource-modal.active .modal-content {
        transform: translateY(0);
      }

      .bookmark {
        position: absolute;
        top: -15px;
        right: 40px;
        width: 30px;
        height: 60px;
        background-color: #8b0000;
        border-radius: 3px 3px 0 0;
        transform: skewX(-15deg);
        box-shadow: -2px -2px 5px rgba(0, 0, 0, 0.2) inset;
      }

      .candle {
        position: absolute;
        bottom: 20px;
        left: 20px;
        width: 100px;
        height: 140px;
        pointer-events: none;
        z-index: 100;
      }

      .candle-light {
        position: absolute;
        width: 20px;
        height: 30px;
        background: radial-gradient(
          ellipse at center,
          rgba(255, 247, 192, 0.8) 0%,
          rgba(255, 197, 92, 0.5) 60%,
          rgba(255, 147, 40, 0) 100%
        );
        border-radius: 50% 50% 25% 25%;
        bottom: 115px;
        left: 40px;
        filter: blur(4px);
        animation: flicker 3s infinite alternate;
      }

      .candle-glow {
        position: absolute;
        width: 150px;
        height: 150px;
        background: radial-gradient(
          ellipse at center,
          rgba(255, 247, 192, 0.4) 0%,
          rgba(255, 197, 92, 0.2) 40%,
          rgba(255, 147, 40, 0) 100%
        );
        border-radius: 50%;
        bottom: 85px;
        left: -25px;
        filter: blur(10px);
        animation: glow 4s infinite alternate;
      }

      .candle-body {
        position: absolute;
        width: 20px;
        height: 80px;
        background: linear-gradient(to right, #eee8d5, #f5f0e6, #eee8d5);
        bottom: 30px;
        left: 40px;
        border-radius: 2px;
      }

      .candle-holder {
        position: absolute;
        width: 40px;
        height: 15px;
        background: #764c28;
        bottom: 15px;
        left: 30px;
        border-radius: 4px;
      }

      .candle-base {
        position: absolute;
        width: 60px;
        height: 15px;
        background: #5a3921;
        bottom: 0;
        left: 20px;
        border-radius: 4px;
      }

      @keyframes flicker {
        0%,
        100% {
          transform: scale(1);
          opacity: 0.8;
        }
        25% {
          transform: scale(0.94);
          opacity: 0.6;
        }
        50% {
          transform: scale(1.05);
          opacity: 0.9;
        }
        75% {
          transform: scale(0.97);
          opacity: 0.7;
        }
      }

      @keyframes glow {
        0%,
        100% {
          transform: scale(1);
          opacity: 0.4;
        }
        50% {
          transform: scale(1.1);
          opacity: 0.5;
        }
      }
    </style>
  </head>
  <body class="min-h-screen flex items-center justify-center p-4">
    <!-- Candle element -->
    <div class="candle">
      <div class="candle-light"></div>
      <div class="candle-glow"></div>
      <div class="candle-body"></div>
      <div class="candle-holder"></div>
      <div class="candle-base"></div>
    </div>

    <div
      class="inventory-book relative w-full max-w-4xl aspect-[16/9] flex book-shadow"
      style="transform-style: preserve-3d; transform: rotateX(10deg)"
    >
      <!-- Page Tabs (visible on the side of the book) -->
      <div class="page-tabs">
        <div class="page-tab" data-page="resources">Resources</div>
        <div class="page-tab" data-page="quests">Quests</div>
        <div class="page-tab" data-page="spells">Spells</div>
      </div>

      <!-- Left Page (Resources) -->
      <div
        id="resources-page"
        class="page w-1/2 bg-parchment p-6 flex flex-col border-r border-rune-light rounded-l-lg"
      >
        <div class="bookmark"></div>
        <div class="page-header border-b-2 border-rune pb-2 mb-6">
          <h2 class="text-rune text-center text-2xl font-bold">RESOURCES</h2>
        </div>

        <div class="grid grid-cols-5 gap-4">
          <!-- Row 1 -->
          <div class="flex flex-col items-center">
            <div
              class="resource-icon rounded"
              data-resource="crystal"
              data-description="Elemental crystals used in enchanting weapons and creating magical foci."
            >
              <svg class="w-8 h-8" viewBox="0 0 24 24" fill="none">
                <path d="M12,3 L8,10 L12,17 L16,10 z" fill="#2a2a2a" />
                <path d="M8,10 L4,17 L12,21 L20,17 L16,10 z" fill="#2a2a2a" />
              </svg>
            </div>
            <div class="mt-1 text-rune font-bold flex justify-center">
              <input
                type="number"
                value="1"
                min="0"
                max="999"
                class="quantity-input"
                data-resource="crystal"
              />
            </div>
          </div>

          <div class="flex flex-col items-center">
            <div
              class="resource-icon rounded"
              data-resource="orbs"
              data-description="Mysterious spheres that contain raw magical energy. Used in high-level spellcasting."
            >
              <svg class="w-8 h-8" viewBox="0 0 24 24" fill="none">
                <circle cx="8" cy="8" r="3" fill="#2a2a2a" />
                <circle cx="16" cy="8" r="3" fill="#2a2a2a" />
                <circle cx="8" cy="16" r="3" fill="#2a2a2a" />
                <circle cx="16" cy="16" r="3" fill="#2a2a2a" />
              </svg>
            </div>
            <div class="mt-1 text-rune font-bold flex justify-center">
              <input
                type="number"
                value="4"
                min="0"
                max="999"
                class="quantity-input"
                data-resource="orbs"
              />
            </div>
          </div>

          <div class="flex flex-col items-center">
            <div
              class="resource-icon rounded"
              data-resource="scroll"
              data-description="Ancient scrolls containing forgotten knowledge and powerful spells."
            >
              <svg class="w-8 h-8" viewBox="0 0 24 24" fill="none">
                <rect
                  x="7"
                  y="4"
                  width="10"
                  height="16"
                  stroke="#2a2a2a"
                  stroke-width="2"
                  fill="none"
                />
                <line
                  x1="10"
                  y1="8"
                  x2="14"
                  y2="8"
                  stroke="#2a2a2a"
                  stroke-width="2"
                />
                <line
                  x1="10"
                  y1="12"
                  x2="14"
                  y2="12"
                  stroke="#2a2a2a"
                  stroke-width="2"
                />
                <line
                  x1="10"
                  y1="16"
                  x2="14"
                  y2="16"
                  stroke="#2a2a2a"
                  stroke-width="2"
                />
              </svg>
            </div>
            <div class="mt-1 text-rune font-bold flex justify-center">
              <input
                type="number"
                value="3"
                min="0"
                max="999"
                class="quantity-input"
                data-resource="scroll"
              />
            </div>
          </div>

          <div class="flex flex-col items-center">
            <div
              class="resource-icon rounded"
              data-resource="coin"
              data-description="Harvestable Stones (HS): The currency used across the realm for trade and bartering."
            >
              <svg class="w-8 h-8" viewBox="0 0 24 24" fill="none">
                <path d="M12,4 L4,8 L12,12 L20,8 z" fill="#2a2a2a" />
                <path
                  d="M4,8 L4,16 L12,20 L20,16 L20,8 z"
                  fill="none"
                  stroke="#2a2a2a"
                  stroke-width="1"
                />
              </svg>
            </div>
            <div class="mt-1 text-rune font-bold flex justify-center">
              <input
                type="number"
                value="1531"
                min="0"
                max="9999"
                class="quantity-input"
                data-resource="coin"
              />
            </div>
          </div>

          <div class="flex flex-col items-center">
            <div
              class="resource-icon rounded"
              data-resource="potion"
              data-description="Mystical brews that can heal wounds, enhance abilities, or counter powerful curses."
            >
              <svg class="w-8 h-8" viewBox="0 0 24 24" fill="none">
                <rect x="5" y="8" width="14" height="10" fill="#2a2a2a" />
                <path
                  d="M7,8 L7,6 L17,6 L17,8"
                  stroke="#2a2a2a"
                  stroke-width="1.5"
                  fill="none"
                />
                <line
                  x1="9"
                  y1="12"
                  x2="15"
                  y2="12"
                  stroke="#e8e1d4"
                  stroke-width="1"
                />
              </svg>
            </div>
            <div class="mt-1 text-rune font-bold flex justify-center">
              <input
                type="number"
                value="10"
                min="0"
                max="999"
                class="quantity-input"
                data-resource="potion"
              />
            </div>
          </div>

          <!-- Row 2 -->
          <div class="flex flex-col items-center">
            <div
              class="resource-icon rounded"
              data-resource="essence"
              data-description="Magical essence distilled from the natural world. Key ingredient in advanced alchemy."
            >
              <svg class="w-8 h-8" viewBox="0 0 24 24" fill="none">
                <path
                  d="M12,6 C12,6 16,10 16,14 C16,17.3 14.3,20 12,20 C9.7,20 8,17.3 8,14 C8,10 12,6 12,6 z"
                  fill="#2a2a2a"
                />
                <path d="M12,10 L12,16" stroke="#e8e1d4" stroke-width="1" />
                <path d="M10,12 L14,14" stroke="#e8e1d4" stroke-width="1" />
              </svg>
            </div>
            <div class="mt-1 text-rune font-bold flex justify-center">
              <input
                type="number"
                value="0"
                min="0"
                max="999"
                class="quantity-input"
                data-resource="essence"
              />
            </div>
          </div>

          <div class="flex flex-col items-center">
            <div
              class="resource-icon rounded"
              data-resource="starshard"
              data-description="Fragments of fallen stars with immense magical power. Extremely rare and valuable."
            >
              <svg class="w-8 h-8" viewBox="0 0 24 24" fill="none">
                <path d="M6,12 L18,12" stroke="#2a2a2a" stroke-width="2" />
                <path d="M12,6 L12,18" stroke="#2a2a2a" stroke-width="2" />
                <path d="M8,8 L16,16" stroke="#2a2a2a" stroke-width="2" />
                <path d="M16,8 L8,16" stroke="#2a2a2a" stroke-width="2" />
              </svg>
            </div>
            <div class="mt-1 text-rune font-bold flex justify-center">
              <input
                type="number"
                value="1"
                min="0"
                max="999"
                class="quantity-input"
                data-resource="starshard"
              />
            </div>
          </div>

          <div class="flex flex-col items-center">
            <div
              class="resource-icon rounded"
              data-resource="gem"
              data-description="Precious gems with natural affinity for certain magical elements. Used in crafting enchanted jewelry."
            >
              <svg class="w-8 h-8" viewBox="0 0 24 24" fill="none">
                <path
                  d="M5,8 L8,5 L16,5 L19,8 L19,16 L16,19 L8,19 L5,16 Z"
                  stroke="#2a2a2a"
                  stroke-width="1.5"
                  fill="none"
                />
                <path d="M8,9 L16,9 L16,15 L8,15 Z" fill="#2a2a2a" />
              </svg>
            </div>
            <div class="mt-1 text-rune font-bold flex justify-center">
              <input
                type="number"
                value="46"
                min="0"
                max="999"
                class="quantity-input"
                data-resource="gem"
              />
            </div>
          </div>

          <div class="flex flex-col items-center">
            <div
              class="resource-icon rounded"
              data-resource="feather"
              data-description="Enchanted feathers from mythical birds, used in air magic and lightweight enchantments."
            >
              <svg class="w-8 h-8" viewBox="0 0 24 24" fill="none">
                <path
                  d="M12,5 C12,5 7,8 7,13 C7,16 9,18 12,18 C15,18 17,16 17,13 C17,8 12,5 12,5 z"
                  stroke="#2a2a2a"
                  stroke-width="1.5"
                  fill="none"
                />
                <path d="M12,5 L12,18" stroke="#2a2a2a" stroke-width="1.5" />
                <path
                  d="M9,11 C9,11 12,13 15,11"
                  stroke="#2a2a2a"
                  stroke-width="1.5"
                  fill="none"
                />
              </svg>
            </div>
            <div class="mt-1 text-rune font-bold flex justify-center">
              <input
                type="number"
                value="1"
                min="0"
                max="999"
                class="quantity-input"
                data-resource="feather"
              />
            </div>
          </div>

          <div class="flex flex-col items-center">
            <div
              class="resource-icon rounded"
              data-resource="vial"
              data-description="Concentrated alchemical reagents stored in magical vials. Essential for potion-making."
            >
              <svg class="w-8 h-8" viewBox="0 0 24 24" fill="none">
                <path
                  d="M7,6 L17,6 L17,18 L7,18 Z"
                  stroke="#2a2a2a"
                  stroke-width="1.5"
                  fill="none"
                />
                <path
                  d="M10,6 C10,4 14,4 14,6"
                  stroke="#2a2a2a"
                  stroke-width="1.5"
                  fill="none"
                />
                <path
                  d="M10,18 C10,20 14,20 14,18"
                  stroke="#2a2a2a"
                  stroke-width="1.5"
                  fill="none"
                />
              </svg>
            </div>
            <div class="mt-1 text-rune font-bold flex justify-center">
              <input
                type="number"
                value="10"
                min="0"
                max="999"
                class="quantity-input"
                data-resource="vial"
              />
            </div>
          </div>

          <!-- Row 3 -->
          <div class="flex flex-col items-center">
            <div
              class="resource-icon rounded border-2 border-rune"
              data-resource="shattered-rune"
              data-description="Shards that course with Runic energy, once capable of moving the land itself. Essential for ancient magical rituals."
            >
              <svg class="w-8 h-8" viewBox="0 0 24 24" fill="none">
                <path
                  d="M16,6 L12,10 L8,6 L6,8 L10,12 L6,16 L8,18 L12,14 L16,18 L18,16 L14,12 L18,8 Z"
                  fill="#2a2a2a"
                />
              </svg>
            </div>
            <div class="mt-1 text-rune font-bold flex justify-center">
              <input
                type="number"
                value="12"
                min="0"
                max="999"
                class="quantity-input"
                data-resource="shattered-rune"
              />
            </div>
          </div>

          <div class="flex flex-col items-center">
            <div
              class="resource-icon rounded"
              data-resource="rune-shard"
              data-description="Lesser fragments of runic power, used for minor enchantments and temporary magical effects."
            >
              <svg class="w-8 h-8" viewBox="0 0 24 24" fill="none">
                <path d="M12,4 L16,8 L12,20 L8,8 Z" fill="#2a2a2a" />
              </svg>
            </div>
            <div class="mt-1 text-rune font-bold flex justify-center">
              <input
                type="number"
                value="1"
                min="0"
                max="999"
                class="quantity-input"
                data-resource="rune-shard"
              />
            </div>
          </div>

          <div class="flex flex-col items-center">
            <div
              class="resource-icon rounded"
              data-resource="ward-token"
              data-description="Ancient protective tokens that can ward against dark magic and malevolent entities."
            >
              <svg class="w-8 h-8" viewBox="0 0 24 24" fill="none">
                <line
                  x1="8"
                  y1="12"
                  x2="16"
                  y2="12"
                  stroke="#2a2a2a"
                  stroke-width="2"
                />
                <line
                  x1="12"
                  y1="8"
                  x2="12"
                  y2="16"
                  stroke="#2a2a2a"
                  stroke-width="2"
                />
                <line
                  x1="10"
                  y1="6"
                  x2="14"
                  y2="6"
                  stroke="#2a2a2a"
                  stroke-width="2"
                />
                <line
                  x1="6"
                  y1="10"
                  x2="6"
                  y2="14"
                  stroke="#2a2a2a"
                  stroke-width="2"
                />
                <line
                  x1="18"
                  y1="10"
                  x2="18"
                  y2="14"
                  stroke="#2a2a2a"
                  stroke-width="2"
                />
                <line
                  x1="10"
                  y1="18"
                  x2="14"
                  y2="18"
                  stroke="#2a2a2a"
                  stroke-width="2"
                />
              </svg>
            </div>
            <div class="mt-1 text-rune font-bold flex justify-center">
              <input
                type="number"
                value="1"
                min="0"
                max="999"
                class="quantity-input"
                data-resource="ward-token"
              />
            </div>
          </div>
        </div>
      </div>

      <!-- Book Spine -->
      <div
        class="book-spine absolute left-1/2 top-0 w-8 h-full -ml-4 flex flex-col justify-around items-center"
      >
        <div class="w-2 h-2 bg-amber-700 rounded-full"></div>
        <div class="w-2 h-2 bg-amber-700 rounded-full"></div>
        <div class="w-2 h-2 bg-amber-700 rounded-full"></div>
      </div>

      <!-- Right Page (Specific Resource) -->
      <div
        id="detail-page"
        class="page w-1/2 bg-parchment p-6 flex flex-col rounded-r-lg"
      >
        <div class="page-header border-b-2 border-rune pb-2 mb-6">
          <h2
            id="detail-title"
            class="text-rune text-center text-2xl font-bold"
          >
            SHATTERED RUNE
          </h2>
        </div>

        <div class="flex flex-col items-center space-y-8">
          <div>
            <h3 class="text-rune text-xl text-center">Resources</h3>
            <h3 class="text-rune text-xl text-center">Quantity</h3>
            <p
              id="detail-quantity"
              class="text-rune text-center text-3xl font-bold"
            >
              12
            </p>
          </div>

          <div
            id="detail-icon"
            class="w-32 h-32 flex items-center justify-center rune-pattern"
          >
            <svg class="w-20 h-20" viewBox="0 0 100 100" fill="none">
              <path
                d="M50,20 L20,50 L50,80 L80,50 Z"
                stroke="#2a2a2a"
                stroke-width="4"
                fill="none"
              />
              <path d="M30,40 L70,60" stroke="#2a2a2a" stroke-width="4" />
              <path d="M30,60 L70,40" stroke="#2a2a2a" stroke-width="4" />
              <path d="M40,30 L60,70" stroke="#2a2a2a" stroke-width="4" />
              <path d="M60,30 L40,70" stroke="#2a2a2a" stroke-width="4" />
            </svg>
          </div>

          <div
            id="detail-description"
            class="text-rune text-center mt-4 max-w-xs"
          >
            <p>
              Shards that course with Runic energy, once capable of moving the
              land itself.
            </p>
          </div>

          <div class="flex flex-col text-rune text-sm space-y-2 mt-4">
            <div id="detail-stats" class="grid grid-cols-2 gap-x-8 gap-y-2">
              <div>Rarity:</div>
              <div>Legendary</div>
              <div>Origin:</div>
              <div>Ancient Cataclysm</div>
              <div>Uses:</div>
              <div>Spellcraft, Enchanting</div>
            </div>
          </div>
        </div>
      </div>

      <!-- Quests Page (initially hidden) -->
      <div
        id="quests-page"
        class="page hidden w-1/2 bg-parchment p-6 flex flex-col border-r border-rune-light rounded-l-lg"
      >
        <div class="page-header border-b-2 border-rune pb-2 mb-6">
          <h2 class="text-rune text-center text-2xl font-bold">QUESTS</h2>
        </div>

        <div class="space-y-6">
          <div
            class="quest-item p-3 border border-rune rounded bg-parchment-light hover:bg-parchment-dark transition cursor-pointer"
          >
            <h3 class="text-lg font-bold text-rune">The Lost Grimoire</h3>
            <div class="flex justify-between items-center">
              <span class="text-sm text-rune-light">Difficulty: ★★★☆☆</span>
              <span class="text-sm bg-amber-100 text-amber-800 px-2 rounded"
                >Active</span
              >
            </div>
            <p class="text-sm mt-2">
              Locate the ancient tome of Archmage Zoltan in the Whispering
              Woods.
            </p>
          </div>

          <div
            class="quest-item p-3 border border-rune rounded bg-parchment-light hover:bg-parchment-dark transition cursor-pointer"
          >
            <h3 class="text-lg font-bold text-rune">Rune Collector</h3>
            <div class="flex justify-between items-center">
              <span class="text-sm text-rune-light">Difficulty: ★★★★☆</span>
              <span class="text-sm bg-amber-100 text-amber-800 px-2 rounded"
                >Active</span
              >
            </div>
            <p class="text-sm mt-2">
              Gather 20 Shattered Rune fragments from the ruins of Aranth.
            </p>
            <div class="flex items-center space-x-2 mt-2">
              <div class="w-full bg-gray-300 rounded-full h-2">
                <div
                  class="bg-amber-600 h-2 rounded-full"
                  style="width: 60%"
                ></div>
              </div>
              <span class="text-xs text-rune">12/20</span>
            </div>
          </div>

          <div
            class="quest-item p-3 border border-rune rounded bg-parchment-light hover:bg-parchment-dark transition cursor-pointer opacity-50"
          >
            <h3 class="text-lg font-bold text-rune">The Alchemist's Request</h3>
            <div class="flex justify-between items-center">
              <span class="text-sm text-rune-light">Difficulty: ★★☆☆☆</span>
              <span class="text-sm bg-gray-200 text-gray-600 px-2 rounded"
                >Completed</span
              >
            </div>
            <p class="text-sm mt-2">
              Deliver 5 vials of essence to Master Alchemist Fionn.
            </p>
          </div>
        </div>
      </div>

      <!-- Spells Page (initially hidden) -->
      <div
        id="spells-page"
        class="page hidden w-1/2 bg-parchment p-6 flex flex-col border-r border-rune-light rounded-l-lg"
      >
        <div class="page-header border-b-2 border-rune pb-2 mb-6">
          <h2 class="text-rune text-center text-2xl font-bold">SPELLS</h2>
        </div>

        <div class="grid grid-cols-2 gap-4">
          <div
            class="spell-item p-3 border border-rune rounded bg-parchment-light hover:bg-parchment-dark transition cursor-pointer"
          >
            <h3 class="text-md font-bold text-rune">Arcane Missile</h3>
            <div class="flex items-center space-x-1 text-amber-700">
              <span class="text-xs">Cost:</span>
              <svg class="w-3 h-3" viewBox="0 0 24 24" fill="#2a2a2a">
                <path d="M12,4 L4,8 L12,12 L20,8 z" />
              </svg>
              <span class="text-xs">×2</span>
            </div>
            <p class="text-xs mt-1">
              A basic magical projectile that never misses its target.
            </p>
          </div>

          <div
            class="spell-item p-3 border border-rune rounded bg-parchment-light hover:bg-parchment-dark transition cursor-pointer"
          >
            <h3 class="text-md font-bold text-rune">Healing Light</h3>
            <div class="flex items-center space-x-1 text-amber-700">
              <span class="text-xs">Cost:</span>
              <svg class="w-3 h-3" viewBox="0 0 24 24" fill="#2a2a2a">
                <path
                  d="M12,6 C12,6 16,10 16,14 C16,17.3 14.3,20 12,20 C9.7,20 8,17.3 8,14 C8,10 12,6 12,6 z"
                />
              </svg>
              <span class="text-xs">×1</span>
            </div>
            <p class="text-xs mt-1">
              Restores health to the caster or an ally with the power of radiant
              magic.
            </p>
          </div>

          <div
            class="spell-item p-3 border border-rune rounded bg-parchment-light hover:bg-parchment-dark transition cursor-pointer"
          >
            <h3 class="text-md font-bold text-rune">Runic Shield</h3>
            <div class="flex items-center space-x-1 text-amber-700">
              <span class="text-xs">Cost:</span>
              <svg class="w-3 h-3" viewBox="0 0 24 24" fill="#2a2a2a">
                <path
                  d="M16,6 L12,10 L8,6 L6,8 L10,12 L6,16 L8,18 L12,14 L16,18 L18,16 L14,12 L18,8 Z"
                />
              </svg>
              <span class="text-xs">×1</span>
            </div>
            <p class="text-xs mt-1">
              Creates a protective barrier of runic energy that absorbs damage.
            </p>
          </div>

          <div
            class="spell-item p-3 border border-rune rounded bg-parchment-light hover:bg-parchment-dark transition cursor-pointer opacity-50"
          >
            <h3 class="text-md font-bold text-rune">Elemental Fury</h3>
            <div class="flex items-center space-x-1 text-amber-700">
              <span class="text-xs">Cost:</span>
              <svg class="w-3 h-3" viewBox="0 0 24 24" fill="#2a2a2a">
                <path d="M12,3 L8,10 L12,17 L16,10 z" />
              </svg>
              <span class="text-xs">×3</span>
            </div>
            <p class="text-xs mt-1">
              Unleash a devastating blast of elemental magic. Requires mastery
              of Crystal magic.
            </p>
            <p class="text-xs mt-1 text-red-700">Requires Crystal Mastery</p>
          </div>
        </div>
      </div>

      <!-- HS Counter at top right -->
      <div class="absolute top-4 right-6 flex items-center space-x-2">
        <span class="text-gray-300 text-lg">HS:</span>
        <div
          class="bg-gray-700 rounded-full w-6 h-6 flex items-center justify-center"
        >
          <span class="text-gray-300 text-xs">₮</span>
        </div>
        <span id="hs-counter" class="text-gray-300 text-lg">1531</span>
      </div>

      <!-- Exit Button -->
      <div
        class="absolute bottom-4 right-6 flex items-center space-x-2 cursor-pointer hover:opacity-80 transition-opacity"
      >
        <div
          class="w-6 h-6 rounded-full bg-pink-500 flex items-center justify-center"
        >
          <span class="text-white font-bold">O</span>
        </div>
        <span class="text-gray-300 text-lg">EXIT</span>
      </div>
    </div>

    <!-- Resource description tooltip -->
    <div id="tooltip" class="tooltip"></div>

    <!-- Resource modal -->
    <div id="resource-modal" class="resource-modal">
      <div class="modal-content">
        <button
          id="close-modal"
          class="absolute top-2 right-2 text-rune hover:text-rune-dark font-bold text-2xl"
        >
          &times;
        </button>
        <h2
          id="modal-title"
          class="text-2xl font-bold text-rune text-center border-b border-rune-light pb-2 mb-4"
        >
          Resource Name
        </h2>

        <div class="flex items-center justify-center mb-6">
          <div
            id="modal-icon"
            class="w-24 h-24 flex items-center justify-center"
          >
            <!-- Icon will be cloned here -->
          </div>
        </div>

        <div class="space-y-4">
          <div>
            <h3 class="font-bold text-rune">Description</h3>
            <p id="modal-description" class="text-rune-light">
              Resource description goes here.
            </p>
          </div>

          <div class="grid grid-cols-2 gap-2">
            <div>
              <h3 class="font-bold text-rune">Quantity</h3>
              <div class="flex items-center">
                <button
                  id="decrease-qty"
                  class="bg-parchment-dark text-rune-light px-2 rounded hover:bg-parchment-dark"
                >
                  -
                </button>
                <input
                  id="modal-quantity"
                  type="number"
                  class="w-16 mx-2 p-1 border border-rune-light rounded text-center"
                  value="1"
                />
                <button
                  id="increase-qty"
                  class="bg-parchment-dark text-rune-light px-2 rounded hover:bg-parchment-dark"
                >
                  +
                </button>
              </div>
            </div>

            <div>
              <h3 class="font-bold text-rune">Rarity</h3>
              <select
                id="modal-rarity"
                class="w-full p-1 border border-rune-light rounded bg-parchment-light"
              >
                <option>Common</option>
                <option>Uncommon</option>
                <option>Rare</option>
                <option>Epic</option>
                <option>Legendary</option>
              </select>
            </div>
          </div>

          <div>
            <h3 class="font-bold text-rune">Notes</h3>
            <textarea
              id="modal-notes"
              class="w-full h-24 p-2 border border-rune-light rounded bg-parchment-light"
              placeholder="Add personal notes about this resource..."
            ></textarea>
          </div>

          <div class="flex justify-end">
            <button
              id="save-resource"
              class="bg-rune text-parchment-light px-4 py-2 rounded hover:bg-rune-light"
            >
              Save Changes
            </button>
          </div>
        </div>
      </div>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // Cache DOM elements
        const resourcesPage = document.getElementById("resources-page");
        const detailPage = document.getElementById("detail-page");
        const questsPage = document.getElementById("quests-page");
        const spellsPage = document.getElementById("spells-page");
        const detailTitle = document.getElementById("detail-title");
        const detailQuantity = document.getElementById("detail-quantity");
        const detailDescription = document
          .getElementById("detail-description")
          .querySelector("p");
        const tooltip = document.getElementById("tooltip");
        const hsCounter = document.getElementById("hs-counter");
        const resourceModal = document.getElementById("resource-modal");
        const closeModal = document.getElementById("close-modal");
        const modalTitle = document.getElementById("modal-title");
        const modalDescription = document.getElementById("modal-description");
        const modalQuantity = document.getElementById("modal-quantity");
        const modalIcon = document.getElementById("modal-icon");
        const decreaseQty = document.getElementById("decrease-qty");
        const increaseQty = document.getElementById("increase-qty");
        const saveResource = document.getElementById("save-resource");

        // Resource data
        const resources = {
          crystal: {
            name: "Elemental Crystal",
            description:
              "Elemental crystals used in enchanting weapons and creating magical foci.",
            rarity: "Uncommon",
            origin: "Crystalline Caves",
            uses: "Enchanting, Spellcasting",
          },
          orbs: {
            name: "Magic Orbs",
            description:
              "Mysterious spheres that contain raw magical energy. Used in high-level spellcasting.",
            rarity: "Rare",
            origin: "Arcane Nexus",
            uses: "Spellcasting, Rituals",
          },
          scroll: {
            name: "Ancient Scroll",
            description:
              "Ancient scrolls containing forgotten knowledge and powerful spells.",
            rarity: "Uncommon",
            origin: "Lost Libraries",
            uses: "Knowledge, Spellcasting",
          },
          coin: {
            name: "Harvestable Stones",
            description:
              "The currency used across the realm for trade and bartering.",
            rarity: "Common",
            origin: "Trade Routes",
            uses: "Currency, Trade",
          },
          potion: {
            name: "Magical Potion",
            description:
              "Mystical brews that can heal wounds, enhance abilities, or counter powerful curses.",
            rarity: "Common",
            origin: "Alchemist's Guild",
            uses: "Healing, Enhancement",
          },
          essence: {
            name: "Elemental Essence",
            description:
              "Magical essence distilled from the natural world. Key ingredient in advanced alchemy.",
            rarity: "Rare",
            origin: "Elemental Planes",
            uses: "Alchemy, Enchanting",
          },
          starshard: {
            name: "Star Shard",
            description:
              "Fragments of fallen stars with immense magical power. Extremely rare and valuable.",
            rarity: "Epic",
            origin: "Cosmic Events",
            uses: "High Magic, Artifacts",
          },
          gem: {
            name: "Magical Gem",
            description:
              "Precious gems with natural affinity for certain magical elements. Used in crafting enchanted jewelry.",
            rarity: "Uncommon",
            origin: "Deep Mines",
            uses: "Jewelry, Focuses",
          },
          feather: {
            name: "Phoenix Feather",
            description:
              "Enchanted feathers from mythical birds, used in air magic and lightweight enchantments.",
            rarity: "Rare",
            origin: "Phoenix Nests",
            uses: "Air Magic, Levitation",
          },
          vial: {
            name: "Alchemical Vial",
            description:
              "Concentrated alchemical reagents stored in magical vials. Essential for potion-making.",
            rarity: "Common",
            origin: "Alchemist's Guild",
            uses: "Alchemy, Potions",
          },
          "shattered-rune": {
            name: "Shattered Rune",
            description:
              "Shards that course with Runic energy, once capable of moving the land itself. Essential for ancient magical rituals.",
            rarity: "Legendary",
            origin: "Ancient Cataclysm",
            uses: "Spellcraft, Enchanting",
          },
          "rune-shard": {
            name: "Rune Shard",
            description:
              "Lesser fragments of runic power, used for minor enchantments and temporary magical effects.",
            rarity: "Uncommon",
            origin: "Runic Sites",
            uses: "Minor Enchanting",
          },
          "ward-token": {
            name: "Ward Token",
            description:
              "Ancient protective tokens that can ward against dark magic and malevolent entities.",
            rarity: "Rare",
            origin: "Sacred Groves",
            uses: "Protection, Warding",
          },
        };

        let currentPage = "resources";
        let currentResource = "shattered-rune";
        let activeResourceIcon = null;

        // Set up page tabs switching
        document.querySelectorAll(".page-tab").forEach((tab) => {
          tab.addEventListener("click", function () {
            const pageType = this.getAttribute("data-page");
            switchPage(pageType);
          });
        });

        function switchPage(pageType) {
          // Hide all pages first
          resourcesPage.classList.add("hidden");
          detailPage.classList.add("hidden");
          questsPage.classList.add("hidden");
          spellsPage.classList.add("hidden");

          // Show the selected page
          if (pageType === "resources") {
            resourcesPage.classList.remove("hidden");
            detailPage.classList.remove("hidden");
            currentPage = "resources";
          } else if (pageType === "quests") {
            questsPage.classList.remove("hidden");
            currentPage = "quests";
          } else if (pageType === "spells") {
            spellsPage.classList.remove("hidden");
            currentPage = "spells";
          }

          // Add page turning animation
          if (currentPage !== "resources") {
            resourcesPage.classList.add("page-turn");
            detailPage.classList.add("page-turn");
          } else {
            resourcesPage.classList.remove("page-turn");
            detailPage.classList.remove("page-turn");
            resourcesPage.classList.add("page-return");
            detailPage.classList.add("page-return");

            // Remove animation classes after animation completes
            setTimeout(() => {
              resourcesPage.classList.remove("page-return");
              detailPage.classList.remove("page-return");
            }, 1200);
          }
        }

        // Handle resource icon click
        document.querySelectorAll(".resource-icon").forEach((icon) => {
          icon.addEventListener("click", function () {
            const resourceType = this.getAttribute("data-resource");
            showResourceDetails(resourceType);

            // If we're on another page, switch back to resources
            if (currentPage !== "resources") {
              switchPage("resources");
            }

            // Visual feedback for selection
            if (activeResourceIcon) {
              activeResourceIcon.classList.remove("border-2", "border-rune");
            }
            this.classList.add("border-2", "border-rune");
            activeResourceIcon = this;

            // Show resource modal
            openResourceModal(resourceType);
          });

          // Tooltip handling
          icon.addEventListener("mouseenter", function (e) {
            const resourceType = this.getAttribute("data-resource");
            const resource = resources[resourceType];

            tooltip.textContent = resource.name;
            tooltip.style.opacity = "1";

            // Position tooltip above the icon
            const rect = this.getBoundingClientRect();
            tooltip.style.left =
              rect.left + rect.width / 2 - tooltip.offsetWidth / 2 + "px";
            tooltip.style.top = rect.top - tooltip.offsetHeight - 10 + "px";
          });

          icon.addEventListener("mouseleave", function () {
            tooltip.style.opacity = "0";
          });
        });

        // Update quantity input event handler
        document.querySelectorAll(".quantity-input").forEach((input) => {
          input.addEventListener("change", function () {
            const resourceType = this.getAttribute("data-resource");
            const value = parseInt(this.value);

            // Ensure the value is within bounds
            if (isNaN(value) || value < 0) {
              this.value = 0;
            } else if (value > 9999) {
              this.value = 9999;
            }

            // Update the detail page if this is the currently selected resource
            if (resourceType === currentResource) {
              detailQuantity.textContent = this.value;
            }

            // Special case for HS/coins
            if (resourceType === "coin") {
              hsCounter.textContent = this.value;
            }

            // Update quest progress if applicable
            if (resourceType === "shattered-rune") {
              const questProgress = document.querySelector(
                ".quest-item:nth-child(2) .bg-amber-600"
              );
              const questCount = document.querySelector(
                ".quest-item:nth-child(2) .text-xs.text-rune"
              );

              questProgress.style.width = (value / 20) * 100 + "%";
              questCount.textContent = value + "/20";
            }
          });
        });

        // Resource modal functionality
        function openResourceModal(resourceType) {
          const resource = resources[resourceType];
          const quantityInput = document.querySelector(
            `.quantity-input[data-resource="${resourceType}"]`
          );

          modalTitle.textContent = resource.name;
          modalDescription.textContent = resource.description;
          modalQuantity.value = quantityInput.value;

          // Clone the icon into the modal
          modalIcon.innerHTML = "";
          const iconClone = document
            .querySelector(`.resource-icon[data-resource="${resourceType}"]`)
            .cloneNode(true);
          iconClone.classList.remove("cursor-pointer");
          iconClone.style.transform = "scale(1.5)";
          modalIcon.appendChild(iconClone);

          // Set rarity dropdown
          document.getElementById("modal-rarity").value = resource.rarity;

          resourceModal.classList.add("active");
        }

        // Close modal button
        closeModal.addEventListener("click", function () {
          resourceModal.classList.remove("active");
        });

        // Click outside modal to close
        resourceModal.addEventListener("click", function (e) {
          if (e.target === resourceModal) {
            resourceModal.classList.remove("active");
          }
        });

        // Quantity adjustment buttons in modal
        decreaseQty.addEventListener("click", function () {
          let value = parseInt(modalQuantity.value);
          if (value > 0) {
            modalQuantity.value = value - 1;
          }
        });

        increaseQty.addEventListener("click", function () {
          let value = parseInt(modalQuantity.value);
          if (value < 9999) {
            modalQuantity.value = value + 1;
          }
        });

        // Save resource button
        saveResource.addEventListener("click", function () {
          const quantityInput = document.querySelector(
            `.quantity-input[data-resource="${currentResource}"]`
          );
          quantityInput.value = modalQuantity.value;

          // Trigger the change event
          const event = new Event("change");
          quantityInput.dispatchEvent(event);

          resourceModal.classList.remove("active");
        });

        function showResourceDetails(resourceType) {
          const resource = resources[resourceType];
          const quantityInput = document.querySelector(
            `.quantity-input[data-resource="${resourceType}"]`
          );

          currentResource = resourceType;

          // Update detail page
          detailTitle.textContent = resource.name.toUpperCase();
          detailQuantity.textContent = quantityInput.value;
          detailDescription.textContent = resource.description;

          // Update stats
          const detailStats = document.getElementById("detail-stats");
          detailStats.innerHTML = `
            <div>Rarity:</div>
            <div>${resource.rarity}</div>
            <div>Origin:</div>
            <div>${resource.origin}</div>
            <div>Uses:</div>
            <div>${resource.uses}</div>
          `;

          // Update the SVG icon
          const iconSVG = document
            .querySelector(
              `.resource-icon[data-resource="${resourceType}"] svg`
            )
            .cloneNode(true);
          iconSVG.classList.remove("w-8", "h-8");
          iconSVG.classList.add("w-20", "h-20");

          const detailIcon = document.getElementById("detail-icon");
          detailIcon.innerHTML = "";
          detailIcon.appendChild(iconSVG);
        }

        // Initial setup - select shattered rune by default
        const defaultIcon = document.querySelector(
          '.resource-icon[data-resource="shattered-rune"]'
        );
        defaultIcon.classList.add("border-2", "border-rune");
        activeResourceIcon = defaultIcon;
        showResourceDetails("shattered-rune");

        // Create dust particles for ambiance
        function createDustParticles() {
          const bookContainer = document.querySelector(".inventory-book");

          for (let i = 0; i < 15; i++) {
            const particle = document.createElement("div");
            particle.classList.add("dust-particle");

            // Random position within the book
            const left = Math.random() * 100;
            const top = Math.random() * 100;

            particle.style.left = `${left}%`;
            particle.style.top = `${top}%`;

            // Random movement animation
            const duration = 8 + Math.random() * 20;
            const delay = Math.random() * 10;

            particle.style.animation = `float ${duration}s ease-in-out ${delay}s infinite alternate`;

            bookContainer.appendChild(particle);
          }
        }

        // Add keyframe animation for dust particles
        const style = document.createElement("style");
        style.innerHTML = `
          @keyframes float {
            0% { transform: translate(0, 0) rotate(0deg); opacity: 0.3; }
            50% { opacity: 0.7; }
            100% { transform: translate(${Math.random() * 100 - 50}px, ${
          Math.random() * 100 - 50
        }px) rotate(360deg); opacity: 0.3; }
          }
        `;
        document.head.appendChild(style);

        createDustParticles();

        // Make the book "breathe" slightly for more lifelike effect
        const book = document.querySelector(".inventory-book");
        let breatheScale = 1;
        let breatheDirection = 0.0002;

        function animateBook() {
          breatheScale += breatheDirection;

          if (breatheScale > 1.003) {
            breatheDirection = -0.0002;
          } else if (breatheScale < 0.997) {
            breatheDirection = 0.0002;
          }

          book.style.transform = `rotateX(10deg) scale(${breatheScale})`;
          requestAnimationFrame(animateBook);
        }

        animateBook();

        // Page turning sound effect
        function playPageTurnSound() {
          const audio = new Audio();
          audio.src =
            "data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEAESsAABErAAABAAgAZGF0YQAAAAA=";
          // We'd need a real sound file URL here, but for demo purposes, we're using a minimal WAV
          audio.volume = 0.3;
          audio.play();
        }

        // Add page turning sound
        document.querySelectorAll(".page-tab").forEach((tab) => {
          tab.addEventListener("click", playPageTurnSound);
        });
      });
    </script>
  </body>
</html>
